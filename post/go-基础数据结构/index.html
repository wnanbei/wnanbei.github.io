<!doctype html><html lang=zh-cn>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Go 基础数据结构 array、slice、map 的声明与使用。
"><title>Go 基础数据结构</title>
<link rel=canonical href=https://wnanbei.github.io/post/go-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>
<link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="Go 基础数据结构">
<meta property="og:description" content="Go 基础数据结构 array、slice、map 的声明与使用。
">
<meta property="og:url" content="https://wnanbei.github.io/post/go-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
<meta property="og:site_name" content="WNANBEI">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Go"><meta property="article:published_time" content="2019-11-01T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-29T10:18:05+08:00">
<meta name=twitter:title content="Go 基础数据结构">
<meta name=twitter:description content="Go 基础数据结构 array、slice、map 的声明与使用。
">
<link rel="shortcut icon" href=images/favicon.jpg>
</head>
<body class="article-page has-toc">
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex
extended">
<div id=article-toolbar>
<a href=/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>返回</span>
</a>
</div>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<header class=article-category>
<a href=/categories/go%E8%AF%AD%E6%B3%95/>
Go语法
</a>
</header>
<h2 class=article-title>
<a href=/post/go-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>Go 基础数据结构</a>
</h2>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2019-11-01</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
阅读时长: 4 分钟
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<p>Go 基础数据结构 <code>array</code>、<code>slice</code>、<code>map</code> 的声明与使用。</p>
<h2 id=array>array</h2>
<p>数组是同一类型元素的集合。</p>
<p>长度固定，不允许数组混合不同类型的元素。</p>
<h3 id=声明>声明</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> [<span style=color:#ae81ff>3</span>]<span style=color:#66d9ef>int</span>
</code></pre></div><ul>
<li>数组中的所有元素会被自动赋值为数据类型的零值。</li>
<li>数组的索引从 0 开始。</li>
<li>不同大小的数组视为不同类型。</li>
<li>Go 中的数组是值类型而不是引用类型，当数组赋值给一个新的变量时，该变量会得到一个原始数组的一个副本。</li>
</ul>
<p>声明时赋值：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> = [<span style=color:#ae81ff>3</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>78</span>, <span style=color:#ae81ff>50</span>}
<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>3</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>78</span>, <span style=color:#ae81ff>50</span>}
<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>5</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>3</span>:<span style=color:#ae81ff>78</span>}
<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> [<span style=color:#f92672>...</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>78</span>, <span style=color:#ae81ff>50</span>}  <span style=color:#75715e>// 自动计算长度
</span></code></pre></div><h3 id=多维数组>多维数组</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>3</span>][<span style=color:#ae81ff>2</span>]<span style=color:#66d9ef>string</span>{
    {<span style=color:#e6db74>&#34;lion&#34;</span>, <span style=color:#e6db74>&#34;tiger&#34;</span>},
    {<span style=color:#e6db74>&#34;cat&#34;</span>, <span style=color:#e6db74>&#34;dog&#34;</span>},
    {<span style=color:#e6db74>&#34;pigeon&#34;</span>, <span style=color:#e6db74>&#34;peacock&#34;</span>},
}
</code></pre></div><h2 id=slice>slice</h2>
<p>切片可以理解为一个可变长度的数组。</p>
<p>切片本质上是对数组建立的方便、灵活且功能强大的封装（<code>Wrapper</code>）。</p>
<p>切片本身不存储任何数据，数据存储在底层的数组中，切片只是对数组的引用。对切片所做的任何修改都会反映在底层数组中。</p>
<h3 id=声明-1>声明</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>}
</code></pre></div><p>使用已有数组创建切片。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>5</span>]<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>76</span>, <span style=color:#ae81ff>77</span>, <span style=color:#ae81ff>78</span>, <span style=color:#ae81ff>79</span>, <span style=color:#ae81ff>80</span>}
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> []<span style=color:#66d9ef>int</span> = <span style=color:#a6e22e>a</span>[<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>4</span>]
</code></pre></div><p>使用 <code>make</code> 创建切片，三个参数是类型、长度、容量，容量是可选参数，默认值与长度相同。</p>
<p>长度不为 0 时，将会自动填充相应数量的默认值。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>)
</code></pre></div><p>使用 <code>make</code> 创建空切片时，一般长度使用 0，但是最好指定容量信息，避免后续追加内容时容量不足，造成频繁的内存分配。</p>
<h3 id=空切片>空切片</h3>
<p>切片还有 nil 切片和空切片，它们的长度和容量都是 0，但是它们指向底层数组的指针不一样</p>
<ul>
<li>
<p>nil 切片意味着指向底层数组的指针为 nil，表示切片不存在</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>nilSlice</span> []<span style=color:#66d9ef>int</span>  <span style=color:#75715e>// nil 切片
</span></code></pre></div></li>
<li>
<p>而空切片对应的指针是个地址，一般用来表示这是一个空集合，没有内容</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>slice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{}  <span style=color:#75715e>// 空切片
</span></code></pre></div></li>
</ul>
<h3 id=长度和容量>长度和容量</h3>
<ul>
<li>长度使用 <code>len()</code> 查看，是切片中元素的数量。访问超过长度的索引值会报错。</li>
<li>容量使用 <code>cap()</code> 查看，是指创建切片时，底层数组的元素数量。容量必须大于等于长度。</li>
</ul>
<h3 id=添加元素>添加元素</h3>
<p>使用<code>append()</code>方法</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> []<span style=color:#66d9ef>int</span>
append(<span style=color:#a6e22e>a</span>, <span style=color:#ae81ff>10</span>)
append(<span style=color:#a6e22e>a</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>40</span>)

<span style=color:#a6e22e>veggies</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;potatoes&#34;</span>, <span style=color:#e6db74>&#34;tomatoes&#34;</span>, <span style=color:#e6db74>&#34;brinjal&#34;</span>}
<span style=color:#a6e22e>fruits</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;oranges&#34;</span>, <span style=color:#e6db74>&#34;apples&#34;</span>}
<span style=color:#a6e22e>food</span> <span style=color:#f92672>:=</span> append(<span style=color:#a6e22e>veggies</span>, <span style=color:#a6e22e>fruits</span><span style=color:#f92672>...</span>)
</code></pre></div><p>使用 <code>append()</code> 方法时，如果添加元素后的数量超过了切片的容量，那么 Go 会自动创建一个容量翻倍的底层数组，并将原有数组的数据复制到新的数组中，这样就实现了切片的动态长度。</p>
<p>注意：最好预先定好切片的大概长度，避免频繁的重新分配数组，浪费系统性能。</p>
<h3 id=拷贝>拷贝</h3>
<p>切片中保存的是对底层数组的引用，所以赋值给其他变量后，修改的依然是原数组。</p>
<p>如果有对某个数组的切片存在，那么原数组就不会被垃圾回收。</p>
<p>使用 <code>copy()</code> 函数可以生成一个与原切片无关的切片副本。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>countries</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;USA&#34;</span>, <span style=color:#e6db74>&#34;Singapore&#34;</span>, <span style=color:#e6db74>&#34;Germany&#34;</span>, <span style=color:#e6db74>&#34;India&#34;</span>, <span style=color:#e6db74>&#34;Australia&#34;</span>}
<span style=color:#a6e22e>neededCountries</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>countries</span>[:len(<span style=color:#a6e22e>countries</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>]
<span style=color:#a6e22e>countriesCpy</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>string</span>, len(<span style=color:#a6e22e>neededCountries</span>))
copy(<span style=color:#a6e22e>countriesCpy</span>, <span style=color:#a6e22e>neededCountries</span>)
</code></pre></div><h2 id=map>map</h2>
<ul>
<li>
<p><code>Map</code> 与切片相同，是引用类型</p>
</li>
<li>
<p><code>Map</code> 之间不能使用 <code>==</code> 操作符进行判断，<code>==</code> 只能用来检查 <code>Map</code> 是否为 <code>nil</code></p>
</li>
</ul>
<h3 id=声明-2>声明</h3>
<p>表示方式为 <code>map[key type]value type</code>，如 <code>map[string]int</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>int</span>{}
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>m</span> = <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>int</span>{<span style=color:#e6db74>&#34;hunter&#34;</span>:<span style=color:#ae81ff>12</span>,<span style=color:#e6db74>&#34;tony&#34;</span>:<span style=color:#ae81ff>10</span>}
<span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>int</span>)
</code></pre></div><p>与切片相同，使用 <code>make</code> 创建 map 时，最好指定容量信息，避免后续追加内容时容量不足，造成频繁的内存分配</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>files</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ioutil</span>.<span style=color:#a6e22e>ReadDir</span>(<span style=color:#e6db74>&#34;./files&#34;</span>)

<span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>FileInfo</span>, len(<span style=color:#a6e22e>files</span>))
<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>files</span> {
    <span style=color:#a6e22e>m</span>[<span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>Name</span>()] = <span style=color:#a6e22e>f</span>
}
</code></pre></div><h3 id=取值>取值</h3>
<p>取值方式为 <code>map[key]</code>，如果取一个不存在的值的话，那么会返回相应的数据类型的零值。</p>
<p>如果我们希望知道 <code>Map</code> 中到底存不存在这个值，我们可以使用以下语法</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>key</span>]
</code></pre></div><h3 id=删除元素>删除元素</h3>
<p>删除 <code>Map</code> 中的元素可以使用 <code>delete(map, key)</code> 函数，此函数没有返回值。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>delete(<span style=color:#a6e22e>person</span>, <span style=color:#e6db74>&#34;steve&#34;</span>)
</code></pre></div><h2 id=new-和-make-区别>New 和 Make 区别</h2>
<p>Go 语言中 <code>new</code> 和 <code>make</code> 是内建的两个函数，主要用来创建分配类型内存。</p>
<h3 id=变量声明>变量声明</h3>
<p>通常的声明方式</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>
</code></pre></div><ul>
<li>声明值类型变量时，默认值是他们的零值</li>
<li>声明引用类型时，类型的零值是 <code>nil</code></li>
</ul>
<p>而直接声明引用类型，会造成引用类型的内存空间没有分配，无法存储数据，例如以下代码会报错：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span> = <span style=color:#ae81ff>10</span>
<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>)
</code></pre></div><h3 id=new>New</h3>
<p><code>new()</code> 函数主要用于为变量分配内存，并初始化为零值。</p>
<p>它只接受一个类型作为参数，分配好内存后，返回一个指向该类型内存地址的指针。同时把分配的内存值置为零，也就是类型的零值。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
<span style=color:#a6e22e>i</span> = new(<span style=color:#66d9ef>int</span>)
<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span> = <span style=color:#ae81ff>10</span>
<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>)
</code></pre></div><p>struct 可以用此方法将 struct 内部的字段初始化，例如下面这个 user 类型的 lock 字段，不需要额为的初始化了。</p>
<p><code>new()</code> 也等价于 <code>u := user{}</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>user</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>lock</span> <span style=color:#a6e22e>sync</span>.<span style=color:#a6e22e>Mutex</span>
	<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>
}

<span style=color:#a6e22e>u</span><span style=color:#f92672>:=</span>new(<span style=color:#a6e22e>user</span>)
<span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>lock</span>.<span style=color:#a6e22e>Lock</span>()
<span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;张三&#34;</span>
<span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>lock</span>.<span style=color:#a6e22e>Unlock</span>()
</code></pre></div><h3 id=make>Make</h3>
<p><code>make()</code> 函数主要用于为特定类型分配内存：<code>Slice</code>、<code>Map</code>、<code>Chan</code>。</p>
<ul>
<li>
<p>因为这三种类型就是引用类型，所以没有必要返回他们的指针。</p>
</li>
<li>
<p>由于是引用类型，所以必须得初始化，但不是置为零值，这是和 <code>new</code> 不一样的。</p>
</li>
</ul>
<h3 id=异同>异同</h3>
<p>相同：</p>
<ul>
<li>二者都是内存的分配（堆上）</li>
</ul>
<p>差异：</p>
<ul>
<li><code>make</code> 只用于 slice、map、chan 的初始化（非零值）</li>
<li><code>new</code> 用于类型的内存分配，并且内存置为零值</li>
</ul>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/tags/go/>Go</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under MIT License</span>
</section>
<section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>
最后更新于 2021-11-29 10:18:05
</span>
</section></footer>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
</article>
<aside class=related-contents--wrapper>
<h2 class=section-title>相关文章</h2>
<div class=related-contents>
<div class="flex article-list--tile">
<article>
<a href=/post/go-%E8%8C%83%E5%9E%8B%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F/>
<div class=article-details>
<h2 class=article-title>Go 范型使用方式</h2>
</div>
</a>
</article>
<article>
<a href=/post/go-%E5%B9%B6%E5%8F%91%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-channel/>
<div class=article-details>
<h2 class=article-title>Go 并发消息队列 channel</h2>
</div>
</a>
</article>
<article>
<a href=/post/go-%E7%BB%93%E6%9E%84%E4%BD%93-struct/>
<div class=article-details>
<h2 class=article-title>Go 结构体 struct</h2>
</div>
</a>
</article>
<article>
<a href=/post/go-interface-%E6%8E%A5%E5%8F%A3/>
<div class=article-details>
<h2 class=article-title>Go interface 接口</h2>
</div>
</a>
</article>
<article>
<a href=/post/go-%E5%8C%85%E7%AE%A1%E7%90%86-package/>
<div class=article-details>
<h2 class=article-title>Go 包管理 Package</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<footer class=site-footer>
<section class=copyright>
&copy;
2021 WNANBEI
</section>
<section class=powerby>
The world has kissed my soul with its pain, asking for its return in songs. <br>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.5.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">目录</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#array>array</a>
<ol>
<li><a href=#声明>声明</a></li>
<li><a href=#多维数组>多维数组</a></li>
</ol>
</li>
<li><a href=#slice>slice</a>
<ol>
<li><a href=#声明-1>声明</a></li>
<li><a href=#空切片>空切片</a></li>
<li><a href=#长度和容量>长度和容量</a></li>
<li><a href=#添加元素>添加元素</a></li>
<li><a href=#拷贝>拷贝</a></li>
</ol>
</li>
<li><a href=#map>map</a>
<ol>
<li><a href=#声明-2>声明</a></li>
<li><a href=#取值>取值</a></li>
<li><a href=#删除元素>删除元素</a></li>
</ol>
</li>
<li><a href=#new-和-make-区别>New 和 Make 区别</a>
<ol>
<li><a href=#变量声明>变量声明</a></li>
<li><a href=#new>New</a></li>
<li><a href=#make>Make</a></li>
<li><a href=#异同>异同</a></li>
</ol>
</li>
</ol>
</nav>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>